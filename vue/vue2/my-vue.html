<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Vue</title>
</head>
<body>
    <div id="app">
        <div>{{ title }}</div>
    </div>
    <script type="text/javascript">
        function observe(obj){
            Object.keys(obj).forEach(key => {
                defineReactive(obj, key, obj[key])
            })
        }

        function defineReactive(obj, key, value){
            Object.defineProperty(obj, key, {
                get(){
                    console.log(`get value ${value}`)
                    return value
                },
                set(newValue){
                    console.log(`set value to ${newValue}`)
                    value = newValue
                }
            })
        }

        function Vue(options){
            this.$options = options
            this.$data = options.data()
            observe(this.$data)
        }

        Vue.prototype.$mount = function(selector){

        }
    </script>
    <script type="text/javascript">
        const app = new Vue({
            data(){
                return {
                    title: "This is a title"
                }
            },
            mounted(){
                setTimeout(()=>{
                    this.title = "New title"
                }, 1000)
            }
        })
        app.$mount("#app")
        console.log(app.$data.title)
    </script>
</body>
</html>